(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["newcity"],{

/***/ "eurM":
/*!*******************************************!*\
  !*** ./website/src/js/modules/forcast.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"yXPU\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"lwsE\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"W8MJ\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Forcast = /*#__PURE__*/function () {\n  function Forcast() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, Forcast);\n\n    // Add API key from OpenWeather.\n    this.key = '312fc733d3070bc27fef36b8a58fa030'; // Add API key form Google TimeZone\n\n    this.gKey = 'AIzaSyDa6qF43QFDOxJzipKKEMqdx2xts0B15A8'; // Get city weather\n\n    this.cityURI = 'https://api.openweathermap.org/data/2.5/weather'; // Get city forcast\n\n    this.forcastURI = 'https://api.openweathermap.org/data/2.5/forecast'; // Get TimeZone\n\n    this.timeZoneURI = 'https://maps.googleapis.com/maps/api/timezone/json'; // UV\n\n    this.uvURI = 'https://api.openweathermap.org/data/2.5/uvi';\n  } // Get the data of the weather for the location.\n  // Uses exported functions from focast.js\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Forcast, [{\n    key: \"updateCity\",\n    value: function () {\n      var _updateCity = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(city) {\n        var cityData, forcast, timeZone, uv;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getCity(city);\n\n              case 2:\n                cityData = _context.sent;\n                _context.next = 5;\n                return this.getForcast(city);\n\n              case 5:\n                forcast = _context.sent;\n                _context.next = 8;\n                return this.getTimeZone(cityData.coord.lat, cityData.coord.lon, cityData.timezone);\n\n              case 8:\n                timeZone = _context.sent;\n                _context.next = 11;\n                return this.getUv(cityData.coord.lat, cityData.coord.lon);\n\n              case 11:\n                uv = _context.sent;\n                return _context.abrupt(\"return\", {\n                  cityData: cityData,\n                  forcast: forcast,\n                  timeZone: timeZone,\n                  uv: uv\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function updateCity(_x) {\n        return _updateCity.apply(this, arguments);\n      }\n\n      return updateCity;\n    }() // Get city weather\n\n  }, {\n    key: \"getCity\",\n    value: function () {\n      var _getCity = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(city) {\n        var query, response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                query = \"?q=\".concat(city, \"&appid=\").concat(this.key, \"&units=metric\");\n                _context2.next = 3;\n                return fetch(this.cityURI + query);\n\n              case 3:\n                response = _context2.sent;\n                _context2.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context2.sent;\n\n                if (true) {\n                  console.log(city);\n                } // return data[0] With AccuWeather\n\n\n                return _context2.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getCity(_x2) {\n        return _getCity.apply(this, arguments);\n      }\n\n      return getCity;\n    }() // Get city forcast\n\n  }, {\n    key: \"getForcast\",\n    value: function () {\n      var _getForcast = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(city) {\n        var query, response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                query = \"?q=\".concat(city, \"&appid=\").concat(this.key, \"&units=metric\");\n                _context3.next = 3;\n                return fetch(this.forcastURI + query);\n\n              case 3:\n                response = _context3.sent;\n                _context3.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context3.sent;\n\n                if (true) {\n                  console.log(city);\n                } // return data[0] With AccuWeather\n\n\n                return _context3.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getForcast(_x3) {\n        return _getForcast.apply(this, arguments);\n      }\n\n      return getForcast;\n    }() // Get city UV\n\n  }, {\n    key: \"getUv\",\n    value: function () {\n      var _getUv = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(lat, lon) {\n        var query, response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                query = \"?appid=\".concat(this.key, \"&lat=\").concat(lat, \"&lon=\").concat(lon);\n                _context4.next = 3;\n                return fetch(this.uvURI + query);\n\n              case 3:\n                response = _context4.sent;\n                _context4.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context4.sent;\n\n                if (true) {\n                  console.log(lat);\n                  console.log(lon);\n                } // return data[0] With AccuWeather\n\n\n                return _context4.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUv(_x4, _x5) {\n        return _getUv.apply(this, arguments);\n      }\n\n      return getUv;\n    }() // Get TimeZone\n\n  }, {\n    key: \"getTimeZone\",\n    value: function () {\n      var _getTimeZone = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(lat, lon, timezone) {\n        var query, response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                query = \"?location=\".concat(lat, \",\").concat(lon, \"&timestamp=\").concat(timezone, \"&key=\").concat(this.gKey);\n                _context5.next = 3;\n                return fetch(this.timeZoneURI + query);\n\n              case 3:\n                response = _context5.sent;\n                _context5.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context5.sent;\n\n                if (true) {\n                  console.log(lat);\n                  console.log(lon);\n                  console.log(timezone);\n                }\n\n                return _context5.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTimeZone(_x6, _x7, _x8) {\n        return _getTimeZone.apply(this, arguments);\n      }\n\n      return getTimeZone;\n    }()\n  }]);\n\n  return Forcast;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Forcast);\n\n//# sourceURL=webpack:///./website/src/js/modules/forcast.js?");

/***/ }),

/***/ "mjH6":
/*!*******************************************!*\
  !*** ./website/src/js/modules/newcity.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(localForage) {/* harmony import */ var _forcast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./forcast */ \"eurM\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"Wgwc\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/utc */ \"Ds8A\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2__);\n// Import weather api\n // Import dayJS for date, time formatting\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_1___default.a.extend(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2___default.a); // Call new forcast class\n\nvar forcast = new _forcast__WEBPACK_IMPORTED_MODULE_0__[\"default\"](); // Getting weather\n\nvar cityForm = document.querySelector('form');\nvar card = document.querySelector('.card');\nvar content = document.querySelector('.card__content');\nvar contentHeader = content.querySelectorAll('.card__header .column')[1];\nvar savedCity = document.querySelector('.card__save button');\nvar cities = []; // Output all data to DOM.\n\nvar updateUI = function updateUI(data) {\n  // destructure properties\n  //   const { cityData, weather } = data\n  var cityData = data.cityData,\n      forcast = data.forcast,\n      timeZone = data.timeZone,\n      uv = data.uv;\n\n  if (true) {\n    console.log('current');\n    console.log(cityData);\n    console.log('forcast');\n    console.log(forcast);\n    console.log(timeZone);\n    console.log(uv);\n  } // update template\n  /// Set the type of precipitation expected.\n\n\n  var precipitation = function precipitation(type) {\n    var rainType = null;\n    var rainAmount = null;\n\n    if (type === 'Rain' || type === 'Snow') {\n      rainType = type;\n\n      if (cityData.rain) {\n        rainAmount = cityData.rain['1h'];\n        rainAmount = rainAmount + 'mm';\n      } else if (cityData.snow) {\n        rainAmount = cityData.snow['1h'];\n        rainAmount = rainAmount + 'mm';\n      } else {\n        rainAmount = cityData.weather[0].description;\n      }\n    } else {\n      rainType = 'Rain';\n      rainAmount = '0mm';\n    }\n\n    return \"<p>\".concat(rainType, \"</p><p>\").concat(rainAmount, \"</p>\");\n  }; /// Set UV index\n\n\n  var uvIndex = function uvIndex(rating) {\n    var uvRating;\n\n    if (rating >= 3 && rating < 6) {\n      uvRating = 'Moderate';\n    } else if (rating >= 6 && rating < 8) {\n      uvRating = 'High';\n    } else if (rating >= 8 && rating < 11) {\n      uvRating = 'Very High';\n    } else if (rating > 10) {\n      uvRating = 'Extreme';\n    } else {\n      uvRating = 'Low';\n    }\n\n    return uvRating;\n  }; /// Get the date and time of the forcast.\n\n\n  var time = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(new Date()).format('H');\n  var dayTime = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(new Date().toLocaleString('en-UK', {\n    timeZone: timeZone.timeZoneId\n  })).format('dddd - h:mmA');\n  var date = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(new Date().toLocaleString('en-UK', {\n    timeZone: timeZone.timeZoneId\n  })).format('YYYY-MM-D'); /// Generating 5 day forcast\n\n  var dailyForcast = function dailyForcast() {\n    // let forcasts = document.createElement('div')\n    var forcasts = ''; // forcasts.textContent = 'hello world'\n\n    forcasts += \"\\n      <div class=\\\"forcasts__day\\\">\\n        <div class=\\\"columns\\\">\\n          <div class=\\\"column is-3\\\">\\n            <h3>Day</h3>\\n            <p>Weather</p>\\n            <img src=\\\"\\\" alt=\\\"\\\">\\n            <p>Wind</p>\\n            <p>2mph</p>\\n          </div>\\n          <div class=\\\"column is-3\\\">\\n            <img src=\\\"\\\" alt=\\\"\\\">\\n            <p>High</p>\\n            <p>30<sup>&deg;</sup></p>\\n            <img src=\\\"\\\" alt=\\\"\\\">\\n            <p>Rain</p>\\n            <p>0%</p>\\n          </div>\\n          <div class=\\\"column is-6\\\">\\n            <h3>Temp<sup>&deg;</sup></h3>\\n            <img src=\\\"\\\" alt=\\\"\\\">\\n          </div>\\n        </div>\\n      </div>\\n    \"; // if ()\n\n    console.log(forcasts);\n    return forcasts;\n  }; /// Set class for time of day.\n\n\n  var cityDayNight;\n\n  if (time >= 21 && time <= 23 || time >= 0 && time < 5) {\n    cityDayNight = 'night';\n  } else if (time >= 5 && time <= 7) {\n    cityDayNight = 'sunrise';\n  } else if (time > 7 && time <= 18) {\n    cityDayNight = 'day';\n  } else {\n    cityDayNight = 'sunset';\n  }\n\n  if (true) {\n    console.log(\"\".concat(time, \" = \").concat(cityDayNight));\n  } /// Generate HTML.\n\n\n  content.innerHTML = \"\\n    <header class=\\\"card__header .columns\\\">\\n      <div class=\\\"column\\\">\\n        <h2>\".concat(cityData.main.temp, \"<sup>&deg;</sup></h2>\\n        <h3>\").concat(cityData.name, \", \").concat(cityData.sys.country, \"</h3>\\n        <time datetime=\\\"\").concat(date, \"\\\">\").concat(dayTime, \"</time>\\n      </div>\\n      <div class=\\\"column\\\">\\n        \").concat(dailyForcast(), \"\\n      </div>\\n    </header>\\n    <p>\").concat(cityData.weather[0].description, \"</p>\\n    <hr>\\n    <footer class=\\\"card__footer\\\">\\n      <div class=\\\"columns card__details\\\">\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>Wind</p>\\n          <p>\").concat(cityData.wind.speed, \"mph</p>\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>High</p>\\n          <p>\").concat(cityData.main.temp_max, \"<sup>&deg;</sup></p>\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          \").concat(precipitation(cityData.weather[0].main), \"\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>Humidity</p>\\n          <p>\").concat(cityData.main.humidity, \"&percnt;</p>\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>UV</p>\\n          <p>\").concat(uvIndex(uv.value), \"</p>\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>Sunrise</p>\\n          <p><time datetime=\\\"\").concat(date, \"\\\">\").concat(dayjs__WEBPACK_IMPORTED_MODULE_1___default.a.unix(cityData.sys.sunrise).format('h:mA'), \"</time></p>\\n        </div>\\n        <div class=\\\"column card__detail\\\">\\n          <img src=\\\"\\\" alt=\\\"\\\">\\n          <p>Sunset</p>\\n          <p><time datetime=\\\"\").concat(date, \"\\\">\").concat(dayjs__WEBPACK_IMPORTED_MODULE_1___default.a.unix(cityData.sys.sunset).format('h:mA'), \"</time></p>\\n        </div>\\n      </div>\\n    </footer>\\n  \"); // Show weather card if card doesn't have hidden class\n\n  if (card.classList.contains('is-hidden')) {\n    card.classList.remove('is-hidden');\n  } // Add time of day class to card.\n\n\n  card.classList.toggle(\"card--\".concat(cityDayNight)); // Add class for weather image.\n\n  card.querySelector('.card__image img').classList.toggle(\"\".concat(cityData.weather[0].main));\n}; // On form submit update the HTML content with the API data\n// Save entered location to localStorage\n\n\ncityForm.addEventListener('submit', function (e) {\n  // prevent the default submit.\n  e.preventDefault(); // get city value.\n\n  var city = cityForm.city.value.trim();\n  cityForm.reset(); // update ui with city\n\n  forcast.updateCity(city).then(function (data) {\n    return updateUI(data);\n  })[\"catch\"](function (err) {\n    return console.error(err);\n  }); // set localStorage with localForage.\n\n  localStorage.setItem('city', city);\n}); // Get city from localStorage\n\nif (localStorage.getItem('city')) {\n  forcast.updateCity(localStorage.getItem('city')).then(function (data) {\n    return updateUI(data);\n  })[\"catch\"](function (err) {\n    return console.error(err);\n  });\n} // If city is saved add location to localForage\n\n\nsavedCity.addEventListener('click', function () {\n  var city = document.querySelector('.card__header h3').innerText;\n\n  if (true) {\n    console.log('Saved ' + city);\n  }\n\n  cities.push({\n    city: city\n  });\n  localForage.setItem('cities', cities);\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! localforage */ \"oAJy\")))\n\n//# sourceURL=webpack:///./website/src/js/modules/newcity.js?");

/***/ })

}]);